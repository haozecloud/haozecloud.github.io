<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>原点独白</title>

  
    <meta name="description" content="&#39;&#x2F;^\d+$&#x2F;&#39;,			&#x2F;&#x2F; operational mode switch     &#39;CC&#39;	&#x3D;&gt; &#39;&#x2F;^[01]$&#x2F;&#39;,			&#x2F;&#x2F; clear cache requested     &#39;DU&#39;	&#x3D;&gt; &#39;&#x2F;^.*$&#x2F;&#39;,			&#x2F;&#x2F; Delete User Key     &#39;SH&#39;	&#x3D;&gt; &#39;&#x2F;^[a-z0-9]+$&#x2F;&#39;,		&#x2F;&#x2F; shared object description      &#39;">
<meta property="og:type" content="article">
<meta property="og:title" content="原点独白">
<meta property="og:url" content="https://haozecloud.github.io/2023/09/28/Linux%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/lnmp/apc_tt.php/index.html">
<meta property="og:site_name" content="原点独白">
<meta property="og:description" content="&#39;&#x2F;^\d+$&#x2F;&#39;,			&#x2F;&#x2F; operational mode switch     &#39;CC&#39;	&#x3D;&gt; &#39;&#x2F;^[01]$&#x2F;&#39;,			&#x2F;&#x2F; clear cache requested     &#39;DU&#39;	&#x3D;&gt; &#39;&#x2F;^.*$&#x2F;&#39;,			&#x2F;&#x2F; Delete User Key     &#39;SH&#39;	&#x3D;&gt; &#39;&#x2F;^[a-z0-9]+$&#x2F;&#39;,		&#x2F;&#x2F; shared object description      &#39;">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-09-28T05:27:17.667Z">
<meta property="article:modified_time" content="2023-09-21T10:55:00.805Z">
<meta property="article:author" content="Zhang Hao Ze">
<meta name="twitter:card" content="summary">
  
  
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://img1.imgtp.com/2023/09/25/3pQ59aAI.png">
  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="avatar" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://img1.imgtp.com/2023/09/25/3pQ59aAI.png" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">原点独白</div><div class="sub cap">微信公众号</div></a></div>

<nav class="menu dis-select"><a class="nav-item active" href="/">文章</a><a class="nav-item" href="/wiki/">项目</a><a class="nav-item" href="/images/">照片</a><a class="nav-item" href="/more/">日常</a></nav>
</header>


<div class="widgets">

<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">本文目录</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">General Cache Information</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text">APC Version Information</span></a></li></ol></div></div></widget>



<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" placeholder="站内搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="https://pd.qq.com/s/77potx4h8" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cloud-1317067033.cos.ap-chengdu.myqcloud.com/images/QQ-2023-09-29.svg"/></a><a class="social" href="https://i.y.qq.com/n2/m/share/details/taoge.html?platform=11&appshare=android_qq&appversion=12070008&hosteuin=oinFoK4soe-lNn**&id=3144152480&ADTAG=wxfshare" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cloud-1317067033.cos.ap-chengdu.myqcloud.com/images/qq音乐-2023-09-29.svg"/></a><a class="social" href="https://www.cnblogs.com/mant" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cloud-1317067033.cos.ap-chengdu.myqcloud.com/images/linux-2023-09-29.svg"/></a><a class="social" href="https://alidocs.dingtalk.com/i/p/O5pXBPdVlgnMQG7Z" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://cloud-1317067033.cos.ap-chengdu.myqcloud.com/images/钉钉-2023-09-29.svg"/></a></div></footer>

    </aside>
    <div class='l_main'>
      

      



<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a></div><div id="post-meta">发布于&nbsp;<time datetime="2023-09-28T05:27:17.667Z">2023-09-28</time></div></div>

<article class='md-text content post'>

<?php
/*
  +----------------------------------------------------------------------+
  | APC                                                                  |
  +----------------------------------------------------------------------+
  | Copyright (c) 2006-2011 The PHP Group                                |
  +----------------------------------------------------------------------+
  | This source file is subject to version 3.01 of the PHP license,      |
  | that is bundled with this package in the file LICENSE, and is        |
  | available through the world-wide-web at the following url:           |
  | http://www.php.net/license/3_01.txt                                  |
  | If you did not receive a copy of the PHP license and are unable to   |
  | obtain it through the world-wide-web, please send a note to          |
  | license@php.net so we can mail you a copy immediately.               |
  +----------------------------------------------------------------------+
  | Authors: Ralf Becker <beckerr@php.net>                               |
  |          Rasmus Lerdorf <rasmus@php.net>                             |
  |          Ilia Alshanetsky <ilia@prohost.org>                         |
  +----------------------------------------------------------------------+

   All other licensing and usage conditions are those of the PHP Group.

 */

$VERSION='$Id: apc.php 307048 2011-01-03 23:53:17Z kalle $';

////////// READ OPTIONAL CONFIGURATION FILE ////////////
if (file_exists("apc.conf.php")) include("apc.conf.php");
////////////////////////////////////////////////////////

////////// BEGIN OF DEFAULT CONFIG AREA ///////////////////////////////////////////////////////////

defaults('USE_AUTHENTICATION',1);			// Use (internal) authentication - best choice if 
                                            // no other authentication is available
                                            // If set to 0:
                                            //  There will be no further authentication. You 
                                            //  will have to handle this by yourself!
                                            // If set to 1:
                                            //  You need to change ADMIN_PASSWORD to make
                                            //  this work!
defaults('ADMIN_USERNAME','apc'); 			// Admin Username
defaults('ADMIN_PASSWORD','a221010pc');  	// Admin Password - CHANGE THIS TO ENABLE!!!

// (beckerr) I'm using a clear text password here, because I've no good idea how to let 
//           users generate a md5 or crypt password in a easy way to fill it in above

//defaults('DATE_FORMAT', "d.m.Y H:i:s");	// German
defaults('DATE_FORMAT', 'Y/m/d H:i:s'); 	// US

defaults('GRAPH_SIZE',200);					// Image size

//defaults('PROXY', 'tcp://127.0.0.1:8080');

////////// END OF DEFAULT CONFIG AREA /////////////////////////////////////////////////////////////


// "define if not defined"
function defaults($d,$v) {
    if (!defined($d)) define($d,$v); // or just @define(...)
}

// rewrite $PHP_SELF to block XSS attacks
//
$PHP_SELF= isset($_SERVER['PHP_SELF']) ? htmlentities(strip_tags($_SERVER['PHP_SELF'],''), ENT_QUOTES, 'UTF-8') : '';
$time = time();
$host = php_uname('n');
if($host) { $host = '('.$host.')'; }
if (isset($_SERVER['SERVER_ADDR'])) {
  $host .= ' ('.$_SERVER['SERVER_ADDR'].')';
}

// operation constants
define('OB_HOST_STATS',1);
define('OB_SYS_CACHE',2);
define('OB_USER_CACHE',3);
define('OB_SYS_CACHE_DIR',4);
define('OB_VERSION_CHECK',9);

// check validity of input variables
$vardom=array(
    'OB'	=> '/^\d+$/',			// operational mode switch
    'CC'	=> '/^[01]$/',			// clear cache requested
    'DU'	=> '/^.*$/',			// Delete User Key
    'SH'	=> '/^[a-z0-9]+$/',		// shared object description

    'IMG'	=> '/^[123]$/',			// image to generate
    'LO'	=> '/^1$/',				// login requested

    'COUNT'	=> '/^\d+$/',			// number of line displayed in list
    'SCOPE'	=> '/^[AD]$/',			// list view scope
    'SORT1'	=> '/^[AHSMCDTZ]$/',	// first sort key
    'SORT2'	=> '/^[DA]$/',			// second sort key
    'AGGR'	=> '/^\d+$/',			// aggregation by dir level
    'SEARCH'	=> '~^[a-zA-Z0-1/_.-]*$~'			// aggregation by dir level
);

// default cache mode
$cache_mode='opcode';

// cache scope
$scope_list=array(
    'A' => 'cache_list',
    'D' => 'deleted_list'
);

// handle POST and GET requests
if (empty($_REQUEST)) {
    if (!empty($_GET) && !empty($_POST)) {
        $_REQUEST = array_merge($_GET, $_POST);
    } else if (!empty($_GET)) {
        $_REQUEST = $_GET;
    } else if (!empty($_POST)) {
        $_REQUEST = $_POST;
    } else {
        $_REQUEST = array();
    }
}

// check parameter syntax
foreach($vardom as $var => $dom) {
    if (!isset($_REQUEST[$var])) {
        $MYREQUEST[$var]=NULL;
    } else if (!is_array($_REQUEST[$var]) && preg_match($dom.'D',$_REQUEST[$var])) {
        $MYREQUEST[$var]=$_REQUEST[$var];
    } else {
        $MYREQUEST[$var]=$_REQUEST[$var]=NULL;
    }
}

// check parameter sematics
if (empty($MYREQUEST['SCOPE'])) $MYREQUEST['SCOPE']="A";
if (empty($MYREQUEST['SORT1'])) $MYREQUEST['SORT1']="H";
if (empty($MYREQUEST['SORT2'])) $MYREQUEST['SORT2']="D";
if (empty($MYREQUEST['OB']))	$MYREQUEST['OB']=OB_HOST_STATS;
if (!isset($MYREQUEST['COUNT'])) $MYREQUEST['COUNT']=20;
if (!isset($scope_list[$MYREQUEST['SCOPE']])) $MYREQUEST['SCOPE']='A';

$MY_SELF=
    "$PHP_SELF".
    "?SCOPE=".$MYREQUEST['SCOPE'].
    "&SORT1=".$MYREQUEST['SORT1'].
    "&SORT2=".$MYREQUEST['SORT2'].
    "&COUNT=".$MYREQUEST['COUNT'];
$MY_SELF_WO_SORT=
    "$PHP_SELF".
    "?SCOPE=".$MYREQUEST['SCOPE'].
    "&COUNT=".$MYREQUEST['COUNT'];

// authentication needed?
//
if (!USE_AUTHENTICATION) {
    $AUTHENTICATED=1;
} else {
    $AUTHENTICATED=0;
    if (ADMIN_PASSWORD!='password' && ($MYREQUEST['LO'] == 1 || isset($_SERVER['PHP_AUTH_USER']))) {

        if (!isset($_SERVER['PHP_AUTH_USER']) ||
            !isset($_SERVER['PHP_AUTH_PW']) ||
            $_SERVER['PHP_AUTH_USER'] != ADMIN_USERNAME ||
            $_SERVER['PHP_AUTH_PW'] != ADMIN_PASSWORD) {
            Header("WWW-Authenticate: Basic realm=\"APC Login\"");
            Header("HTTP/1.0 401 Unauthorized");

            echo <<<EOB
                <html><body>
                <h1>Rejected!</h1>
                <big>Wrong Username or Password!</big><br/>&nbsp;<br/>&nbsp;
                <big><a href='$PHP_SELF?OB={$MYREQUEST['OB']}'>Continue...</a></big>
                </body></html>
EOB;
            exit;
            
        } else {
            $AUTHENTICATED=1;
        }
    }
}
    
// select cache mode
if ($AUTHENTICATED && $MYREQUEST['OB'] == OB_USER_CACHE) {
    $cache_mode='user';
}
// clear cache
if ($AUTHENTICATED && isset($MYREQUEST['CC']) && $MYREQUEST['CC']) {
    apc_clear_cache($cache_mode);
}

if ($AUTHENTICATED && !empty($MYREQUEST['DU'])) {
    apc_delete($MYREQUEST['DU']);
}

if(!function_exists('apc_cache_info') || !($cache=@apc_cache_info($cache_mode))) {
    echo "No cache info available.  APC does not appear to be running.";
  exit;
}

$cache_user = apc_cache_info('user', 1);  
$mem=apc_sma_info();
if(!$cache['num_hits']) { $cache['num_hits']=1; $time++; }  // Avoid division by 0 errors on a cache clear

// don't cache this page
//
header("Cache-Control: no-store, no-cache, must-revalidate");  // HTTP/1.1
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache");                                    // HTTP/1.0

function duration($ts) {
    global $time;
    $years = (int)((($time - $ts)/(7*86400))/52.177457);
    $rem = (int)(($time-$ts)-($years * 52.177457 * 7 * 86400));
    $weeks = (int)(($rem)/(7*86400));
    $days = (int)(($rem)/86400) - $weeks*7;
    $hours = (int)(($rem)/3600) - $days*24 - $weeks*7*24;
    $mins = (int)(($rem)/60) - $hours*60 - $days*24*60 - $weeks*7*24*60;
    $str = '';
    if($years==1) $str .= "$years year, ";
    if($years>1) $str .= "$years years, ";
    if($weeks==1) $str .= "$weeks week, ";
    if($weeks>1) $str .= "$weeks weeks, ";
    if($days==1) $str .= "$days day,";
    if($days>1) $str .= "$days days,";
    if($hours == 1) $str .= " $hours hour and";
    if($hours>1) $str .= " $hours hours and";
    if($mins == 1) $str .= " 1 minute";
    else $str .= " $mins minutes";
    return $str;
}

// create graphics
//
function graphics_avail() {
    return extension_loaded('gd');
}
if (isset($MYREQUEST['IMG']))
{
    if (!graphics_avail()) {
        exit(0);
    }

    function fill_arc($im, $centerX, $centerY, $diameter, $start, $end, $color1,$color2,$text='',$placeindex=0) {
        $r=$diameter/2;
        $w=deg2rad((360+$start+($end-$start)/2)%360);

        
        if (function_exists("imagefilledarc")) {
            // exists only if GD 2.0.1 is avaliable
            imagefilledarc($im, $centerX+1, $centerY+1, $diameter, $diameter, $start, $end, $color1, IMG_ARC_PIE);
            imagefilledarc($im, $centerX, $centerY, $diameter, $diameter, $start, $end, $color2, IMG_ARC_PIE);
            imagefilledarc($im, $centerX, $centerY, $diameter, $diameter, $start, $end, $color1, IMG_ARC_NOFILL|IMG_ARC_EDGED);
        } else {
            imagearc($im, $centerX, $centerY, $diameter, $diameter, $start, $end, $color2);
            imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($start)) * $r, $centerY + sin(deg2rad($start)) * $r, $color2);
            imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($start+1)) * $r, $centerY + sin(deg2rad($start)) * $r, $color2);
            imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($end-1))   * $r, $centerY + sin(deg2rad($end))   * $r, $color2);
            imageline($im, $centerX, $centerY, $centerX + cos(deg2rad($end))   * $r, $centerY + sin(deg2rad($end))   * $r, $color2);
            imagefill($im,$centerX + $r*cos($w)/2, $centerY + $r*sin($w)/2, $color2);
        }
        if ($text) {
            if ($placeindex>0) {
                imageline($im,$centerX + $r*cos($w)/2, $centerY + $r*sin($w)/2,$diameter, $placeindex*12,$color1);
                imagestring($im,4,$diameter, $placeindex*12,$text,$color1);	
                
            } else {
                imagestring($im,4,$centerX + $r*cos($w)/2, $centerY + $r*sin($w)/2,$text,$color1);
            }
        }
    } 

    function text_arc($im, $centerX, $centerY, $diameter, $start, $end, $color1,$text,$placeindex=0) {
        $r=$diameter/2;
        $w=deg2rad((360+$start+($end-$start)/2)%360);

        if ($placeindex>0) {
            imageline($im,$centerX + $r*cos($w)/2, $centerY + $r*sin($w)/2,$diameter, $placeindex*12,$color1);
            imagestring($im,4,$diameter, $placeindex*12,$text,$color1);	
                
        } else {
            imagestring($im,4,$centerX + $r*cos($w)/2, $centerY + $r*sin($w)/2,$text,$color1);
        }
    } 
    
    function fill_box($im, $x, $y, $w, $h, $color1, $color2,$text='',$placeindex='') {
        global $col_black;
        $x1=$x+$w-1;
        $y1=$y+$h-1;

        imagerectangle($im, $x, $y1, $x1+1, $y+1, $col_black);
        if($y1>$y) imagefilledrectangle($im, $x, $y, $x1, $y1, $color2);
        else imagefilledrectangle($im, $x, $y1, $x1, $y, $color2);
        imagerectangle($im, $x, $y1, $x1, $y, $color1);
        if ($text) {
            if ($placeindex>0) {
            
                if ($placeindex<16)
                {
                    $px=5;
                    $py=$placeindex*12+6;
                    imagefilledrectangle($im, $px+90, $py+3, $px+90-4, $py-3, $color2);
                    imageline($im,$x,$y+$h/2,$px+90,$py,$color2);
                    imagestring($im,2,$px,$py-6,$text,$color1);	
                    
                } else {
                    if ($placeindex<31) {
                        $px=$x+40*2;
                        $py=($placeindex-15)*12+6;
                    } else {
                        $px=$x+40*2+100*intval(($placeindex-15)/15);
                        $py=($placeindex%15)*12+6;
                    }
                    imagefilledrectangle($im, $px, $py+3, $px-4, $py-3, $color2);
                    imageline($im,$x+$w,$y+$h/2,$px,$py,$color2);
                    imagestring($im,2,$px+2,$py-6,$text,$color1);	
                }
            } else {
                imagestring($im,4,$x+5,$y1-16,$text,$color1);
            }
        }
    }


    $size = GRAPH_SIZE; // image size
    if ($MYREQUEST['IMG']==3)
        $image = imagecreate(2*$size+150, $size+10);
    else
        $image = imagecreate($size+50, $size+10);

    $col_white = imagecolorallocate($image, 0xFF, 0xFF, 0xFF);
    $col_red   = imagecolorallocate($image, 0xD0, 0x60,  0x30);
    $col_green = imagecolorallocate($image, 0x60, 0xF0, 0x60);
    $col_black = imagecolorallocate($image,   0,   0,   0);
    imagecolortransparent($image,$col_white);

    switch ($MYREQUEST['IMG']) {
    
    case 1:
        $s=$mem['num_seg']*$mem['seg_size'];
        $a=$mem['avail_mem'];
        $x=$y=$size/2;
        $fuzz = 0.000001;

        // This block of code creates the pie chart.  It is a lot more complex than you
        // would expect because we try to visualize any memory fragmentation as well.
        $angle_from = 0;
        $string_placement=array();
        for($i=0; $i<$mem['num_seg']; $i++) {	
            $ptr = 0;
            $free = $mem['block_lists'][$i];
            uasort($free, 'block_sort');
            foreach($free as $block) {
                if($block['offset']!=$ptr) {       // Used block
                    $angle_to = $angle_from+($block['offset']-$ptr)/$s;
                    if(($angle_to+$fuzz)>1) $angle_to = 1;
                    if( ($angle_to*360) - ($angle_from*360) >= 1) {
                        fill_arc($image,$x,$y,$size,$angle_from*360,$angle_to*360,$col_black,$col_red);
                        if (($angle_to-$angle_from)>0.05) {
                            array_push($string_placement, array($angle_from,$angle_to));
                        }
                    }
                    $angle_from = $angle_to;
                }
                $angle_to = $angle_from+($block['size'])/$s;
                if(($angle_to+$fuzz)>1) $angle_to = 1;
                if( ($angle_to*360) - ($angle_from*360) >= 1) {
                    fill_arc($image,$x,$y,$size,$angle_from*360,$angle_to*360,$col_black,$col_green);
                    if (($angle_to-$angle_from)>0.05) {
                        array_push($string_placement, array($angle_from,$angle_to));
                    }
                }
                $angle_from = $angle_to;
                $ptr = $block['offset']+$block['size'];
            }
            if ($ptr < $mem['seg_size']) { // memory at the end 
                $angle_to = $angle_from + ($mem['seg_size'] - $ptr)/$s;
                if(($angle_to+$fuzz)>1) $angle_to = 1;
                fill_arc($image,$x,$y,$size,$angle_from*360,$angle_to*360,$col_black,$col_red);
                if (($angle_to-$angle_from)>0.05) {
                    array_push($string_placement, array($angle_from,$angle_to));
                }
            }
        }
        foreach ($string_placement as $angle) {
            text_arc($image,$x,$y,$size,$angle[0]*360,$angle[1]*360,$col_black,bsize($s*($angle[1]-$angle[0])));
        }
        break;
        
    case 2: 
        $s=$cache['num_hits']+$cache['num_misses'];
        $a=$cache['num_hits'];
        
        fill_box($image, 30,$size,50,-$a*($size-21)/$s,$col_black,$col_green,sprintf("%.1f%%",$cache['num_hits']*100/$s));
        fill_box($image,130,$size,50,-max(4,($s-$a)*($size-21)/$s),$col_black,$col_red,sprintf("%.1f%%",$cache['num_misses']*100/$s));
        break;
        
    case 3:
        $s=$mem['num_seg']*$mem['seg_size'];
        $a=$mem['avail_mem'];
        $x=130;
        $y=1;
        $j=1;

        // This block of code creates the bar chart.  It is a lot more complex than you
        // would expect because we try to visualize any memory fragmentation as well.
        for($i=0; $i<$mem['num_seg']; $i++) {	
            $ptr = 0;
            $free = $mem['block_lists'][$i];
            uasort($free, 'block_sort');
            foreach($free as $block) {
                if($block['offset']!=$ptr) {       // Used block
                    $h=(GRAPH_SIZE-5)*($block['offset']-$ptr)/$s;
                    if ($h>0) {
                                                $j++;
                        if($j<75) fill_box($image,$x,$y,50,$h,$col_black,$col_red,bsize($block['offset']-$ptr),$j);
                                                else fill_box($image,$x,$y,50,$h,$col_black,$col_red);
                                        }
                    $y+=$h;
                }
                $h=(GRAPH_SIZE-5)*($block['size'])/$s;
                if ($h>0) {
                                        $j++;
                    if($j<75) fill_box($image,$x,$y,50,$h,$col_black,$col_green,bsize($block['size']),$j);
                    else fill_box($image,$x,$y,50,$h,$col_black,$col_green);
                                }
                $y+=$h;
                $ptr = $block['offset']+$block['size'];
            }
            if ($ptr < $mem['seg_size']) { // memory at the end 
                $h = (GRAPH_SIZE-5) * ($mem['seg_size'] - $ptr) / $s;
                if ($h > 0) {
                    fill_box($image,$x,$y,50,$h,$col_black,$col_red,bsize($mem['seg_size']-$ptr),$j++);
                }
            }
        }
        break;
    case 4: 
        $s=$cache['num_hits']+$cache['num_misses'];
        $a=$cache['num_hits'];
            	
        fill_box($image, 30,$size,50,-$a*($size-21)/$s,$col_black,$col_green,sprintf("%.1f%%",$cache['num_hits']*100/$s));
        fill_box($image,130,$size,50,-max(4,($s-$a)*($size-21)/$s),$col_black,$col_red,sprintf("%.1f%%",$cache['num_misses']*100/$s));
        break;
    
    }
    header("Content-type: image/png");
    imagepng($image);
    exit;
}

// pretty printer for byte values
//
function bsize($s) {
    foreach (array('','K','M','G') as $i => $k) {
        if ($s < 1024) break;
        $s/=1024;
    }
    return sprintf("%5.1f %sBytes",$s,$k);
}

// sortable table header in "scripts for this host" view
function sortheader($key,$name,$extra='') {
    global $MYREQUEST, $MY_SELF_WO_SORT;
    
    if ($MYREQUEST['SORT1']==$key) {
        $MYREQUEST['SORT2'] = $MYREQUEST['SORT2']=='A' ? 'D' : 'A';
    }
    return "<a class=sortable href=\"$MY_SELF_WO_SORT$extra&SORT1=$key&SORT2=".$MYREQUEST['SORT2']."\">$name</a>";

}

// create menu entry 
function menu_entry($ob,$title) {
    global $MYREQUEST,$MY_SELF;
    if ($MYREQUEST['OB']!=$ob) {
        return "<li><a href=\"$MY_SELF&OB=$ob\">$title</a></li>";
    } else if (empty($MYREQUEST['SH'])) {
        return "<li><span class=active>$title</span></li>";
    } else {
        return "<li><a class=\"child_active\" href=\"$MY_SELF&OB=$ob\">$title</a></li>";	
    }
}

function put_login_link($s="Login")
{
    global $MY_SELF,$MYREQUEST,$AUTHENTICATED;
    // needs ADMIN_PASSWORD to be changed!
    //
    if (!USE_AUTHENTICATION) {
        return;
    } else if (ADMIN_PASSWORD=='password')
    {
        print <<<EOB
            <a href="#" onClick="javascript:alert('You need to set a password at the top of apc.php before this will work!');return false";>$s</a>
EOB;
    } else if ($AUTHENTICATED) {
        print <<<EOB
            '{$_SERVER['PHP_AUTH_USER']}'&nbsp;logged&nbsp;in!
EOB;
    } else{
        print <<<EOB
            <a href="$MY_SELF&LO=1&OB={$MYREQUEST['OB']}">$s</a>
EOB;
    }
}

function block_sort($array1, $array2)
{
    if ($array1['offset'] > $array2['offset']) {
        return 1;
    } else {
        return -1;
    }
}


?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><title>APC INFO <?php echo $host ?></title>
<style><!--
body { background:white; font-size:100.01%; margin:0; padding:0; }
body,p,td,th,input,submit { font-size:0.8em;font-family:arial,helvetica,sans-serif; }
* html body   {font-size:0.8em}
* html p      {font-size:0.8em}
* html td     {font-size:0.8em}
* html th     {font-size:0.8em}
* html input  {font-size:0.8em}
* html submit {font-size:0.8em}
td { vertical-align:top }
a { color:black; font-weight:none; text-decoration:none; }
a:hover { text-decoration:underline; }
div.content { padding:1em 1em 1em 1em; position:absolute; width:97%; z-index:100; }


<p>div.head div.login {<br>    position:absolute;<br>    right: 1em;<br>    top: 1.2em;<br>    color:white;<br>    width:6em;<br>    }<br>div.head div.login a {<br>    position:absolute;<br>    right: 0em;<br>    background:rgb(119,123,180);<br>    border:solid rgb(102,102,153) 2px;<br>    color:white;<br>    font-weight:bold;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    text-decoration:none;<br>    }<br>div.head div.login a:hover {<br>    background:rgb(193,193,244);<br>    }</p>
<p>h1.apc { background:rgb(153,153,204); margin:0; padding:0.5em 1em 0.5em 1em; }</p>
<ul>
<li>html h1.apc { margin-bottom:-7px; }<br>h1.apc a:hover { text-decoration:none; color:rgb(90,90,90); }<br>h1.apc div.logo span.logo {<br>  background:rgb(119,123,180);<br>  color:black;<br>  border-right: solid black 1px;<br>  border-bottom: solid black 1px;<br>  font-style:italic;<br>  font-size:1em;<br>  padding-left:1.2em;<br>  padding-right:1.2em;<br>  text-align:right;<br>  }<br>h1.apc div.logo span.name { color:white; font-size:0.7em; padding:0 0.8em 0 2em; }<br>h1.apc div.nameinfo { color:white; display:inline; font-size:0.4em; margin-left: 3em; }<br>h1.apc div.copy { color:black; font-size:0.4em; position:absolute; right:1em; }<br>hr.apc {<br>  background:white;<br>  border-bottom:solid rgb(102,102,153) 1px;<br>  border-style:none;<br>  border-top:solid rgb(102,102,153) 10px;<br>  height:12px;<br>  margin:0;<br>  margin-top:1px;<br>  padding:0;<br>}</li>
</ul>
<p>ol,menu { margin:1em 0 0 0; padding:0.2em; margin-left:1em;}<br>ol.menu li { display:inline; margin-right:0.7em; list-style:none; font-size:85%}<br>ol.menu a {<br>    background:rgb(153,153,204);<br>    border:solid rgb(102,102,153) 2px;<br>    color:white;<br>    font-weight:bold;<br>    margin-right:0em;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    text-decoration:none;<br>    margin-left: 5px;<br>    }<br>ol.menu a.child_active {<br>    background:rgb(153,153,204);<br>    border:solid rgb(102,102,153) 2px;<br>    color:white;<br>    font-weight:bold;<br>    margin-right:0em;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    text-decoration:none;<br>    border-left: solid black 5px;<br>    margin-left: 0px;<br>    }<br>ol.menu span.active {<br>    background:rgb(153,153,204);<br>    border:solid rgb(102,102,153) 2px;<br>    color:black;<br>    font-weight:bold;<br>    margin-right:0em;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    text-decoration:none;<br>    border-left: solid black 5px;<br>    }<br>ol.menu span.inactive {<br>    background:rgb(193,193,244);<br>    border:solid rgb(182,182,233) 2px;<br>    color:white;<br>    font-weight:bold;<br>    margin-right:0em;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    text-decoration:none;<br>    margin-left: 5px;<br>    }<br>ol.menu a:hover {<br>    background:rgb(193,193,244);<br>    text-decoration:none;<br>    }</p>
<p>div.info {<br>    background:rgb(204,204,204);<br>    border:solid rgb(204,204,204) 1px;<br>    margin-bottom:1em;<br>    }<br>div.info h2 {<br>    background:rgb(204,204,204);<br>    color:black;<br>    font-size:1em;<br>    margin:0;<br>    padding:0.1em 1em 0.1em 1em;<br>    }<br>div.info table {<br>    border:solid rgb(204,204,204) 1px;<br>    border-spacing:0;<br>    width:100%;<br>    }<br>div.info table th {<br>    background:rgb(204,204,204);<br>    color:white;<br>    margin:0;<br>    padding:0.1em 1em 0.1em 1em;<br>    }<br>div.info table th a.sortable { color:black; }<br>div.info table tr.tr-0 { background:rgb(238,238,238); }<br>div.info table tr.tr-1 { background:rgb(221,221,221); }<br>div.info table td { padding:0.3em 1em 0.3em 1em; }<br>div.info table td.td-0 { border-right:solid rgb(102,102,153) 1px; white-space:nowrap; }<br>div.info table td.td-n { border-right:solid rgb(102,102,153) 1px; }<br>div.info table td h3 {<br>    color:black;<br>    font-size:1.1em;<br>    margin-left:-0.3em;<br>    }</p>
<p>div.graph { margin-bottom:1em }<br>div.graph h2 { background:rgb(204,204,204);; color:black; font-size:1em; margin:0; padding:0.1em 1em 0.1em 1em; }<br>div.graph table { border:solid rgb(204,204,204) 1px; color:black; font-weight:normal; width:100%; }<br>div.graph table td.td-0 { background:rgb(238,238,238); }<br>div.graph table td.td-1 { background:rgb(221,221,221); }<br>div.graph table td { padding:0.2em 1em 0.4em 1em; }</p>
<p>div.div1,div.div2 { margin-bottom:1em; width:35em; }<br>div.div3 { position:absolute; left:40em; top:1em; width:580px; }<br>&#x2F;&#x2F;div.div3 { position:absolute; left:37em; top:1em; right:1em; }</p>
<p>div.sorting { margin:1.5em 0em 1.5em 2em }<br>.center { text-align:center }<br>.aright { position:absolute;right:1em }<br>.right { text-align:right }<br>.ok { color:rgb(0,200,0); font-weight:bold}<br>.failed { color:rgb(200,0,0); font-weight:bold}</p>
<p>span.box {<br>    border: black solid 1px;<br>    border-right:solid black 2px;<br>    border-bottom:solid black 2px;<br>    padding:0 0.5em 0 0.5em;<br>    margin-right:1em;<br>}<br>span.green { background:#60F060; padding:0 0.5em 0 0.5em}<br>span.red { background:#D06030; padding:0 0.5em 0 0.5em }</p>
<p>div.authneeded {<br>    background:rgb(238,238,238);<br>    border:solid rgb(204,204,204) 1px;<br>    color:rgb(200,0,0);<br>    font-size:1.2em;<br>    font-weight:bold;<br>    padding:2em;<br>    text-align:center;<br>    }</p>
<p>input {<br>    background:rgb(153,153,204);<br>    border:solid rgb(102,102,153) 2px;<br>    color:white;<br>    font-weight:bold;<br>    margin-right:1em;<br>    padding:0.1em 0.5em 0.1em 0.5em;<br>    }<br>&#x2F;&#x2F;–&gt;<br></style></p>
</head>
<body>
<div class="head">
    <h1 class="apc">
        <div class="logo"><span class="logo"><a target="_blank" rel="noopener" href="http://pecl.php.net/package/APC">APC</a></span></div>
        <div class="nameinfo">Opcode Cache</div>
    </h1>
    <div class="login">
    <?php put_login_link(); ?>
    </div>
    <hr class="apc">
</div>
<?php


<p>&#x2F;&#x2F; Display main Menu<br>echo &lt;&lt;&lt;EOB<br>    <ol class=menu><br>    <li><a href="$MY_SELF&OB={$MYREQUEST['OB']}&SH={$MYREQUEST['SH']}">Refresh Data</a></li><br>EOB;<br>echo<br>    menu_entry(1,’View Host Stats’),<br>    menu_entry(2,’System Cache Entries’);<br>if ($AUTHENTICATED) {<br>    echo menu_entry(4,’Per-Directory Entries’);<br>}<br>echo<br>    menu_entry(3,’User Cache Entries’),<br>    menu_entry(9,’Version Check’);</p>
<p>if ($AUTHENTICATED) {<br>    echo &lt;&lt;&lt;EOB<br>        <li><a class="aright" href="$MY_SELF&CC=1&OB={$MYREQUEST['OB']}" onClick="javascript:return confirm('Are you sure?');">Clear $cache_mode Cache</a></li><br>EOB;<br>}<br>echo &lt;&lt;&lt;EOB<br>    </ol><br>EOB;</p>
<p>&#x2F;&#x2F; CONTENT<br>echo &lt;&lt;&lt;EOB<br>    <div class=content><br>EOB;</p>
<p>&#x2F;&#x2F; MAIN SWITCH STATEMENT </p>
<p>switch ($MYREQUEST[‘OB’]) {</p>
<p>&#x2F;&#x2F; ———————————————–<br>&#x2F;&#x2F; Host Stats<br>&#x2F;&#x2F; ———————————————–<br>case OB_HOST_STATS:<br>    $mem_size &#x3D; $mem[‘num_seg’]*$mem[‘seg_size’];<br>    $mem_avail&#x3D; $mem[‘avail_mem’];<br>    $mem_used &#x3D; $mem_size-$mem_avail;<br>    $seg_size &#x3D; bsize($mem[‘seg_size’]);<br>    $req_rate &#x3D; sprintf(“%.2f”,($cache[‘num_hits’]+$cache[‘num_misses’])&#x2F;($time-$cache[‘start_time’]));<br>    $hit_rate &#x3D; sprintf(“%.2f”,($cache[‘num_hits’])&#x2F;($time-$cache[‘start_time’]));<br>    $miss_rate &#x3D; sprintf(“%.2f”,($cache[‘num_misses’])&#x2F;($time-$cache[‘start_time’]));<br>    $insert_rate &#x3D; sprintf(“%.2f”,($cache[‘num_inserts’])&#x2F;($time-$cache[‘start_time’]));<br>    $req_rate_user &#x3D; sprintf(“%.2f”,($cache_user[‘num_hits’]+$cache_user[‘num_misses’])&#x2F;($time-$cache_user[‘start_time’]));<br>    $hit_rate_user &#x3D; sprintf(“%.2f”,($cache_user[‘num_hits’])&#x2F;($time-$cache_user[‘start_time’]));<br>    $miss_rate_user &#x3D; sprintf(“%.2f”,($cache_user[‘num_misses’])&#x2F;($time-$cache_user[‘start_time’]));<br>    $insert_rate_user &#x3D; sprintf(“%.2f”,($cache_user[‘num_inserts’])&#x2F;($time-$cache_user[‘start_time’]));<br>    $apcversion &#x3D; phpversion(‘apc’);<br>    $phpversion &#x3D; phpversion();<br>    $number_files &#x3D; $cache[‘num_entries’];<br>    $size_files &#x3D; bsize($cache[‘mem_size’]);<br>    $number_vars &#x3D; $cache_user[‘num_entries’];<br>    $size_vars &#x3D; bsize($cache_user[‘mem_size’]);<br>    $i&#x3D;0;<br>    echo &lt;&lt;&lt; EOB<br>        <div class="info div1"><h2>General Cache Information</h2><br>        <table cellspacing=0><tbody><br>        <tr class=tr-0><td class=td-0>APC Version</td><td>$apcversion</td></tr><br>        <tr class=tr-1><td class=td-0>PHP Version</td><td>$phpversion</td></tr><br>EOB;</p>
<pre><code>if(!empty($_SERVER[&#39;SERVER_NAME&#39;]))
    echo &quot;&lt;tr class=tr-0&gt;&lt;td class=td-0&gt;APC Host&lt;/td&gt;&lt;td&gt;&#123;$_SERVER[&#39;SERVER_NAME&#39;]&#125; $host&lt;/td&gt;&lt;/tr&gt;\n&quot;;
if(!empty($_SERVER[&#39;SERVER_SOFTWARE&#39;]))
    echo &quot;&lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Server Software&lt;/td&gt;&lt;td&gt;&#123;$_SERVER[&#39;SERVER_SOFTWARE&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;\n&quot;;

echo &lt;&lt;&lt;EOB
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Shared Memory&lt;/td&gt;&lt;td&gt;&#123;$mem[&#39;num_seg&#39;]&#125; Segment(s) with $seg_size 
&lt;br/&gt; (&#123;$cache[&#39;memory_type&#39;]&#125; memory, &#123;$cache[&#39;locking_type&#39;]&#125; locking)
&lt;/td&gt;&lt;/tr&gt;
</code></pre>
<p>EOB;<br>    echo   ‘<tr class=tr-1><td class=td-0>Start Time</td><td>‘,date(DATE_FORMAT,$cache[‘start_time’]),’</td></tr>‘;<br>    echo   ‘<tr class=tr-0><td class=td-0>Uptime</td><td>‘,duration($cache[‘start_time’]),’</td></tr>‘;<br>    echo   ‘<tr class=tr-1><td class=td-0>File Upload Support</td><td>‘,$cache[‘file_upload_progress’],’</td></tr>‘;<br>    echo &lt;&lt;&lt;EOB<br>        </tbody></table><br>        </div></p>
<pre><code>    &lt;div class=&quot;info div1&quot;&gt;&lt;h2&gt;File Cache Information&lt;/h2&gt;
    &lt;table cellspacing=0&gt;&lt;tbody&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Cached Files&lt;/td&gt;&lt;td&gt;$number_files ($size_files)&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Hits&lt;/td&gt;&lt;td&gt;&#123;$cache[&#39;num_hits&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Misses&lt;/td&gt;&lt;td&gt;&#123;$cache[&#39;num_misses&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Request Rate (hits, misses)&lt;/td&gt;&lt;td&gt;$req_rate cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Hit Rate&lt;/td&gt;&lt;td&gt;$hit_rate cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Miss Rate&lt;/td&gt;&lt;td&gt;$miss_rate cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Insert Rate&lt;/td&gt;&lt;td&gt;$insert_rate cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Cache full count&lt;/td&gt;&lt;td&gt;&#123;$cache[&#39;expunges&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
    &lt;/div&gt;

    &lt;div class=&quot;info div1&quot;&gt;&lt;h2&gt;User Cache Information&lt;/h2&gt;
    &lt;table cellspacing=0&gt;&lt;tbody&gt;
&lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Cached Variables&lt;/td&gt;&lt;td&gt;$number_vars ($size_vars)&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Hits&lt;/td&gt;&lt;td&gt;&#123;$cache_user[&#39;num_hits&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Misses&lt;/td&gt;&lt;td&gt;&#123;$cache_user[&#39;num_misses&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Request Rate (hits, misses)&lt;/td&gt;&lt;td&gt;$req_rate_user cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Hit Rate&lt;/td&gt;&lt;td&gt;$hit_rate_user cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Miss Rate&lt;/td&gt;&lt;td&gt;$miss_rate_user cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-0&gt;&lt;td class=td-0&gt;Insert Rate&lt;/td&gt;&lt;td&gt;$insert_rate_user cache requests/second&lt;/td&gt;&lt;/tr&gt;
    &lt;tr class=tr-1&gt;&lt;td class=td-0&gt;Cache full count&lt;/td&gt;&lt;td&gt;&#123;$cache_user[&#39;expunges&#39;]&#125;&lt;/td&gt;&lt;/tr&gt;

    &lt;/tbody&gt;&lt;/table&gt;
    &lt;/div&gt;

    &lt;div class=&quot;info div2&quot;&gt;&lt;h2&gt;Runtime Settings&lt;/h2&gt;&lt;table cellspacing=0&gt;&lt;tbody&gt;
</code></pre>
<p>EOB;</p>
<pre><code>$j = 0;
foreach (ini_get_all(&#39;apc&#39;) as $k =&gt; $v) &#123;
    echo &quot;&lt;tr class=tr-$j&gt;&lt;td class=td-0&gt;&quot;,$k,&quot;&lt;/td&gt;&lt;td&gt;&quot;,str_replace(&#39;,&#39;,&#39;,&lt;br /&gt;&#39;,$v[&#39;local_value&#39;]),&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;;
    $j = 1 - $j;
&#125;

if($mem[&#39;num_seg&#39;]&gt;1 || $mem[&#39;num_seg&#39;]==1 &amp;&amp; count($mem[&#39;block_lists&#39;][0])&gt;1)
    $mem_note = &quot;Memory Usage&lt;br /&gt;&lt;font size=-2&gt;(multiple slices indicate fragments)&lt;/font&gt;&quot;;
else
    $mem_note = &quot;Memory Usage&quot;;

echo &lt;&lt;&lt; EOB
    &lt;/tbody&gt;&lt;/table&gt;
    &lt;/div&gt;

    &lt;div class=&quot;graph div3&quot;&gt;&lt;h2&gt;Host Status Diagrams&lt;/h2&gt;
    &lt;table cellspacing=0&gt;&lt;tbody&gt;
</code></pre>
<p>EOB;<br>    $size&#x3D;’width&#x3D;’.(GRAPH_SIZE+50).’ height&#x3D;’.(GRAPH_SIZE+10);<br>    echo &lt;&lt;&lt;EOB<br>        <tr><br>        <td class=td-0>$mem_note</td><br>        <td class=td-1>Hits &amp; Misses</td><br>        </tr><br>EOB;</p>
<pre><code>echo
    graphics_avail() ? 
          &#39;&lt;tr&gt;&#39;.
          &quot;&lt;td class=td-0&gt;&lt;img alt=\&quot;\&quot; $size src=\&quot;$PHP_SELF?IMG=1&amp;$time\&quot;&gt;&lt;/td&gt;&quot;.
          &quot;&lt;td class=td-1&gt;&lt;img alt=\&quot;\&quot; $size src=\&quot;$PHP_SELF?IMG=2&amp;$time\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n&quot;
        : &quot;&quot;,
    &#39;&lt;tr&gt;&#39;,
    &#39;&lt;td class=td-0&gt;&lt;span class=&quot;green box&quot;&gt;&amp;nbsp;&lt;/span&gt;Free: &#39;,bsize($mem_avail).sprintf(&quot; (%.1f%%)&quot;,$mem_avail*100/$mem_size),&quot;&lt;/td&gt;\n&quot;,
    &#39;&lt;td class=td-1&gt;&lt;span class=&quot;green box&quot;&gt;&amp;nbsp;&lt;/span&gt;Hits: &#39;,$cache[&#39;num_hits&#39;].sprintf(&quot; (%.1f%%)&quot;,$cache[&#39;num_hits&#39;]*100/($cache[&#39;num_hits&#39;]+$cache[&#39;num_misses&#39;])),&quot;&lt;/td&gt;\n&quot;,
    &#39;&lt;/tr&gt;&#39;,
    &#39;&lt;tr&gt;&#39;,
    &#39;&lt;td class=td-0&gt;&lt;span class=&quot;red box&quot;&gt;&amp;nbsp;&lt;/span&gt;Used: &#39;,bsize($mem_used ).sprintf(&quot; (%.1f%%)&quot;,$mem_used *100/$mem_size),&quot;&lt;/td&gt;\n&quot;,
    &#39;&lt;td class=td-1&gt;&lt;span class=&quot;red box&quot;&gt;&amp;nbsp;&lt;/span&gt;Misses: &#39;,$cache[&#39;num_misses&#39;].sprintf(&quot; (%.1f%%)&quot;,$cache[&#39;num_misses&#39;]*100/($cache[&#39;num_hits&#39;]+$cache[&#39;num_misses&#39;])),&quot;&lt;/td&gt;\n&quot;;
echo &lt;&lt;&lt; EOB
    &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;

    &lt;br/&gt;
    &lt;h2&gt;Detailed Memory Usage and Fragmentation&lt;/h2&gt;
    &lt;table cellspacing=0&gt;&lt;tbody&gt;
    &lt;tr&gt;
    &lt;td class=td-0 colspan=2&gt;&lt;br/&gt;
</code></pre>
<p>EOB;</p>
<pre><code>// Fragementation: (freeseg - 1) / total_seg
$nseg = $freeseg = $fragsize = $freetotal = 0;
for($i=0; $i&lt;$mem[&#39;num_seg&#39;]; $i++) &#123;
    $ptr = 0;
    foreach($mem[&#39;block_lists&#39;][$i] as $block) &#123;
        if ($block[&#39;offset&#39;] != $ptr) &#123;
            ++$nseg;
        &#125;
        $ptr = $block[&#39;offset&#39;] + $block[&#39;size&#39;];
                    /* Only consider blocks &lt;5M for the fragmentation % */
                    if($block[&#39;size&#39;]&lt;(5*1024*1024)) $fragsize+=$block[&#39;size&#39;];
                    $freetotal+=$block[&#39;size&#39;];
    &#125;
    $freeseg += count($mem[&#39;block_lists&#39;][$i]);
&#125;

if ($freeseg &gt; 1) &#123;
    $frag = sprintf(&quot;%.2f%% (%s out of %s in %d fragments)&quot;, ($fragsize/$freetotal)*100,bsize($fragsize),bsize($freetotal),$freeseg);
&#125; else &#123;
    $frag = &quot;0%&quot;;
&#125;

if (graphics_avail()) &#123;
    $size=&#39;width=&#39;.(2*GRAPH_SIZE+150).&#39; height=&#39;.(GRAPH_SIZE+10);
    echo &lt;&lt;&lt;EOB
        &lt;img alt=&quot;&quot; $size src=&quot;$PHP_SELF?IMG=3&amp;$time&quot;&gt;
</code></pre>
<p>EOB;<br>    }<br>    echo &lt;&lt;&lt;EOB<br>        </br>Fragmentation: $frag<br>        </td><br>        </tr><br>EOB;<br>        if(isset($mem[‘adist’])) {<br>          foreach($mem[‘adist’] as $i&#x3D;&gt;$v) {<br>            $cur &#x3D; pow(2,$i); $nxt &#x3D; pow(2,$i+1)-1;<br>            if($i&#x3D;&#x3D;0) $range &#x3D; “1”;<br>            else $range &#x3D; “$cur - $nxt”;<br>            echo “<tr><th align=right>$range</th><td align=right>$v</td></tr>\n”;<br>          }<br>        }<br>        echo &lt;&lt;&lt;EOB<br>        </tbody></table><br>        </div><br>EOB;</p>
<pre><code>break;
</code></pre>
<p>&#x2F;&#x2F; ———————————————–<br>&#x2F;&#x2F; User Cache Entries<br>&#x2F;&#x2F; ———————————————–<br>case OB_USER_CACHE:<br>    if (!$AUTHENTICATED) {<br>    echo ‘<div class="error">You need to login to see the user values here!<br/>&nbsp;<br/>‘;<br>        put_login_link(“Login now!”);<br>        echo ‘</div>‘;<br>        break;<br>    }<br>    $fieldname&#x3D;’info’;<br>    $fieldheading&#x3D;’User Entry Label’;<br>    $fieldkey&#x3D;’info’;</p>
<p>&#x2F;&#x2F; ———————————————–<br>&#x2F;&#x2F; System Cache Entries		<br>&#x2F;&#x2F; ———————————————–<br>case OB_SYS_CACHE:	<br>    if (!isset($fieldname))<br>    {<br>        $fieldname&#x3D;’filename’;<br>        $fieldheading&#x3D;’Script Filename’;<br>        if(ini_get(“apc.stat”)) $fieldkey&#x3D;’inode’;<br>        else $fieldkey&#x3D;’filename’;<br>    }<br>    if (!empty($MYREQUEST[‘SH’]))<br>    {<br>        echo &lt;&lt;&lt; EOB<br>            <div class="info"><table cellspacing=0><tbody><br>            <tr><th>Attribute</th><th>Value</th></tr><br>EOB;</p>
<pre><code>    $m=0;
    foreach($scope_list as $j =&gt; $list) &#123;
        foreach($cache[$list] as $i =&gt; $entry) &#123;
            if (md5($entry[$fieldkey])!=$MYREQUEST[&#39;SH&#39;]) continue;
            foreach($entry as $k =&gt; $value) &#123;
                if (!$AUTHENTICATED) &#123;
                    // hide all path entries if not logged in
                    $value=preg_replace(&#39;/^.*(\\/|\\\\)/&#39;,&#39;&lt;i&gt;&amp;lt;hidden&amp;gt;&lt;/i&gt;/&#39;,$value);
                &#125;

                if ($k == &quot;num_hits&quot;) &#123;
                    $value=sprintf(&quot;%s (%.2f%%)&quot;,$value,$value*100/$cache[&#39;num_hits&#39;]);
                &#125;
                if ($k == &#39;deletion_time&#39;) &#123;
                    if(!$entry[&#39;deletion_time&#39;]) $value = &quot;None&quot;;
                &#125;
                echo
                    &quot;&lt;tr class=tr-$m&gt;&quot;,
                    &quot;&lt;td class=td-0&gt;&quot;,ucwords(preg_replace(&quot;/_/&quot;,&quot; &quot;,$k)),&quot;&lt;/td&gt;&quot;,
                    &quot;&lt;td class=td-last&gt;&quot;,(preg_match(&quot;/time/&quot;,$k) &amp;&amp; $value!=&#39;None&#39;) ? date(DATE_FORMAT,$value) : htmlspecialchars($value, ENT_QUOTES, &#39;UTF-8&#39;),&quot;&lt;/td&gt;&quot;,
                    &quot;&lt;/tr&gt;&quot;;
                $m=1-$m;
            &#125;
            if($fieldkey==&#39;info&#39;) &#123;
                echo &quot;&lt;tr class=tr-$m&gt;&lt;td class=td-0&gt;Stored Value&lt;/td&gt;&lt;td class=td-last&gt;&lt;pre&gt;&quot;;
                $output = var_export(apc_fetch($entry[$fieldkey]),true);
                echo htmlspecialchars($output, ENT_QUOTES, &#39;UTF-8&#39;);
                echo &quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;\n&quot;;
            &#125;
            break;
        &#125;
    &#125;

    echo &lt;&lt;&lt;EOB
        &lt;/tbody&gt;&lt;/table&gt;
        &lt;/div&gt;
</code></pre>
<p>EOB;<br>        break;<br>    }</p>
<pre><code>$cols=6;
echo &lt;&lt;&lt;EOB
    &lt;div class=sorting&gt;&lt;form&gt;Scope:
    &lt;input type=hidden name=OB value=&#123;$MYREQUEST[&#39;OB&#39;]&#125;&gt;
    &lt;select name=SCOPE&gt;
</code></pre>
<p>EOB;<br>    echo<br>        “&lt;option value&#x3D;A”,$MYREQUEST[‘SCOPE’]&#x3D;&#x3D;’A’ ? “ selected”:””,”&gt;Active</option>“,<br>        “&lt;option value&#x3D;D”,$MYREQUEST[‘SCOPE’]&#x3D;&#x3D;’D’ ? “ selected”:””,”&gt;Deleted</option>“,<br>        “</select>“,<br>        “, Sorting:<select name=SORT1>“,<br>        “&lt;option value&#x3D;H”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’H’ ? “ selected”:””,”&gt;Hits</option>“,<br>        “&lt;option value&#x3D;Z”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’Z’ ? “ selected”:””,”&gt;Size</option>“,<br>        “&lt;option value&#x3D;S”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’S’ ? “ selected”:””,”&gt;$fieldheading</option>“,<br>        “&lt;option value&#x3D;A”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’A’ ? “ selected”:””,”&gt;Last accessed</option>“,<br>        “&lt;option value&#x3D;M”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’M’ ? “ selected”:””,”&gt;Last modified</option>“,<br>        “&lt;option value&#x3D;C”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’C’ ? “ selected”:””,”&gt;Created at</option>“,<br>        “&lt;option value&#x3D;D”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’D’ ? “ selected”:””,”&gt;Deleted at</option>“;<br>    if($fieldname&#x3D;&#x3D;’info’) echo<br>        “&lt;option value&#x3D;D”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’T’ ? “ selected”:””,”&gt;Timeout</option>“;<br>    echo<br>        ‘</select>‘,<br>        ‘<select name=SORT2>‘,<br>        ‘&lt;option value&#x3D;D’,$MYREQUEST[‘SORT2’]&#x3D;&#x3D;’D’ ? ‘ selected’:’’,’&gt;DESC</option>‘,<br>        ‘&lt;option value&#x3D;A’,$MYREQUEST[‘SORT2’]&#x3D;&#x3D;’A’ ? ‘ selected’:’’,’&gt;ASC</option>‘,<br>        ‘</select>‘,<br>        ‘<select name=COUNT onChange="form.submit()">‘,<br>        ‘&lt;option value&#x3D;10 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’10’ ? ‘ selected’:’’,’&gt;Top 10</option>‘,<br>        ‘&lt;option value&#x3D;20 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’20’ ? ‘ selected’:’’,’&gt;Top 20</option>‘,<br>        ‘&lt;option value&#x3D;50 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’50’ ? ‘ selected’:’’,’&gt;Top 50</option>‘,<br>        ‘&lt;option value&#x3D;100’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’100’? ‘ selected’:’’,’&gt;Top 100</option>‘,<br>        ‘&lt;option value&#x3D;150’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’150’? ‘ selected’:’’,’&gt;Top 150</option>‘,<br>        ‘&lt;option value&#x3D;200’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’200’? ‘ selected’:’’,’&gt;Top 200</option>‘,<br>        ‘&lt;option value&#x3D;500’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’500’? ‘ selected’:’’,’&gt;Top 500</option>‘,<br>        ‘&lt;option value&#x3D;0  ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’0’  ? ‘ selected’:’’,’&gt;All</option>‘,<br>        ‘</select>‘,<br>    ‘&nbsp; Search: <input name=SEARCH value="',$MYREQUEST['SEARCH'],'" type=text size=25/>‘,<br>        ‘&nbsp;<input type=submit value="GO!">‘,<br>        ‘</form></div>‘;</p>
<p>  if (isset($MYREQUEST[‘SEARCH’])) {<br>   &#x2F;&#x2F; Don’t use preg_quote because we want the user to be able to specify a<br>   &#x2F;&#x2F; regular expression subpattern.<br>   $MYREQUEST[‘SEARCH’] &#x3D; ‘&#x2F;‘.str_replace(‘&#x2F;‘, ‘\&#x2F;‘, $MYREQUEST[‘SEARCH’]).’&#x2F;i’;<br>   if (preg_match($MYREQUEST[‘SEARCH’], ‘test’) &#x3D;&#x3D;&#x3D; false) {<br>     echo ‘<div class="error">Error: enter a valid regular expression as a search query.</div>‘;<br>     break;<br>   }<br>  }</p>
<p>  echo<br>        ‘<div class="info"><table cellspacing=0><tbody>‘,<br>        ‘<tr>‘,<br>        ‘<th>‘,sortheader(‘S’,$fieldheading,  “&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘,<br>        ‘<th>‘,sortheader(‘H’,’Hits’,         “&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘,<br>        ‘<th>‘,sortheader(‘Z’,’Size’,         “&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘,<br>        ‘<th>‘,sortheader(‘A’,’Last accessed’,”&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘,<br>        ‘<th>‘,sortheader(‘M’,’Last modified’,”&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘,<br>        ‘<th>‘,sortheader(‘C’,’Created at’,   “&amp;OB&#x3D;”.$MYREQUEST[‘OB’]),’</th>‘;</p>
<pre><code>if($fieldname==&#39;info&#39;) &#123;
    $cols+=2;
     echo &#39;&lt;th&gt;&#39;,sortheader(&#39;T&#39;,&#39;Timeout&#39;,&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;;
&#125;
echo &#39;&lt;th&gt;&#39;,sortheader(&#39;D&#39;,&#39;Deleted at&#39;,&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&lt;/tr&gt;&#39;;

// builds list with alpha numeric sortable keys
//
$list = array();
foreach($cache[$scope_list[$MYREQUEST[&#39;SCOPE&#39;]]] as $i =&gt; $entry) &#123;
    switch($MYREQUEST[&#39;SORT1&#39;]) &#123;
        case &#39;A&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;access_time&#39;]); 	break;
        case &#39;H&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;num_hits&#39;]); 		break;
        case &#39;Z&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;mem_size&#39;]); 		break;
        case &#39;M&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;mtime&#39;]);			break;
        case &#39;C&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;creation_time&#39;]);	break;
        case &#39;T&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;ttl&#39;]);			break;
        case &#39;D&#39;: $k=sprintf(&#39;%015d-&#39;,$entry[&#39;deletion_time&#39;]);	break;
        case &#39;S&#39;: $k=&#39;&#39;;										break;
    &#125;
    if (!$AUTHENTICATED) &#123;
        // hide all path entries if not logged in
        $list[$k.$entry[$fieldname]]=preg_replace(&#39;/^.*(\\/|\\\\)/&#39;,&#39;*hidden*/&#39;,$entry);
    &#125; else &#123;
        $list[$k.$entry[$fieldname]]=$entry;
    &#125;
&#125;

if ($list) &#123;
    
    // sort list
    //
    switch ($MYREQUEST[&#39;SORT2&#39;]) &#123;
        case &quot;A&quot;:	krsort($list);	break;
        case &quot;D&quot;:	ksort($list);	break;
    &#125;
    
    // output list
    $i=0;
    foreach($list as $k =&gt; $entry) &#123;
  if(!$MYREQUEST[&#39;SEARCH&#39;] || preg_match($MYREQUEST[&#39;SEARCH&#39;], $entry[$fieldname]) != 0) &#123;  
    $field_value = htmlentities(strip_tags($entry[$fieldname],&#39;&#39;), ENT_QUOTES, &#39;UTF-8&#39;);
    echo
      &#39;&lt;tr class=tr-&#39;,$i%2,&#39;&gt;&#39;,
      &quot;&lt;td class=td-0&gt;&lt;a href=\&quot;$MY_SELF&amp;OB=&quot;,$MYREQUEST[&#39;OB&#39;],&quot;&amp;SH=&quot;,md5($entry[$fieldkey]),&quot;\&quot;&gt;&quot;,$field_value,&#39;&lt;/a&gt;&lt;/td&gt;&#39;,
      &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,$entry[&#39;num_hits&#39;],&#39;&lt;/td&gt;&#39;,
      &#39;&lt;td class=&quot;td-n right&quot;&gt;&#39;,$entry[&#39;mem_size&#39;],&#39;&lt;/td&gt;&#39;,
      &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,date(DATE_FORMAT,$entry[&#39;access_time&#39;]),&#39;&lt;/td&gt;&#39;,
      &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,date(DATE_FORMAT,$entry[&#39;mtime&#39;]),&#39;&lt;/td&gt;&#39;,
      &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,date(DATE_FORMAT,$entry[&#39;creation_time&#39;]),&#39;&lt;/td&gt;&#39;;

    if($fieldname==&#39;info&#39;) &#123;
      if($entry[&#39;ttl&#39;])
        echo &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;.$entry[&#39;ttl&#39;].&#39; seconds&lt;/td&gt;&#39;;
      else
        echo &#39;&lt;td class=&quot;td-n center&quot;&gt;None&lt;/td&gt;&#39;;
    &#125;
    if ($entry[&#39;deletion_time&#39;]) &#123;

      echo &#39;&lt;td class=&quot;td-last center&quot;&gt;&#39;, date(DATE_FORMAT,$entry[&#39;deletion_time&#39;]), &#39;&lt;/td&gt;&#39;;
    &#125; else if ($MYREQUEST[&#39;OB&#39;] == OB_USER_CACHE) &#123;

      echo &#39;&lt;td class=&quot;td-last center&quot;&gt;&#39;;
      echo &#39;[&lt;a href=&quot;&#39;, $MY_SELF, &#39;&amp;OB=&#39;, $MYREQUEST[&#39;OB&#39;], &#39;&amp;DU=&#39;, urlencode($entry[$fieldkey]), &#39;&quot;&gt;Delete Now&lt;/a&gt;]&#39;;
      echo &#39;&lt;/td&gt;&#39;;
    &#125; else &#123;
      echo &#39;&lt;td class=&quot;td-last center&quot;&gt; &amp;nbsp; &lt;/td&gt;&#39;;
    &#125;
    echo &#39;&lt;/tr&gt;&#39;;
    $i++;
    if ($i == $MYREQUEST[&#39;COUNT&#39;])
      break;
  &#125;
    &#125;
    
&#125; else &#123;
    echo &#39;&lt;tr class=tr-0&gt;&lt;td class=&quot;center&quot; colspan=&#39;,$cols,&#39;&gt;&lt;i&gt;No data&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&#39;;
&#125;
echo &lt;&lt;&lt; EOB
    &lt;/tbody&gt;&lt;/table&gt;
</code></pre>
<p>EOB;</p>
<pre><code>if ($list &amp;&amp; $i &lt; count($list)) &#123;
    echo &quot;&lt;a href=\&quot;$MY_SELF&amp;OB=&quot;,$MYREQUEST[&#39;OB&#39;],&quot;&amp;COUNT=0\&quot;&gt;&lt;i&gt;&quot;,count($list)-$i,&#39; more available...&lt;/i&gt;&lt;/a&gt;&#39;;
&#125;

echo &lt;&lt;&lt; EOB
    &lt;/div&gt;
</code></pre>
<p>EOB;<br>    break;</p>
<p>&#x2F;&#x2F; ———————————————–<br>&#x2F;&#x2F; Per-Directory System Cache Entries<br>&#x2F;&#x2F; ———————————————–<br>case OB_SYS_CACHE_DIR:	<br>    if (!$AUTHENTICATED) {<br>        break;<br>    }</p>
<pre><code>echo &lt;&lt;&lt;EOB
    &lt;div class=sorting&gt;&lt;form&gt;Scope:
    &lt;input type=hidden name=OB value=&#123;$MYREQUEST[&#39;OB&#39;]&#125;&gt;
    &lt;select name=SCOPE&gt;
</code></pre>
<p>EOB;<br>    echo<br>        “&lt;option value&#x3D;A”,$MYREQUEST[‘SCOPE’]&#x3D;&#x3D;’A’ ? “ selected”:””,”&gt;Active</option>“,<br>        “&lt;option value&#x3D;D”,$MYREQUEST[‘SCOPE’]&#x3D;&#x3D;’D’ ? “ selected”:””,”&gt;Deleted</option>“,<br>        “</select>“,<br>        “, Sorting:<select name=SORT1>“,<br>        “&lt;option value&#x3D;H”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’H’ ? “ selected”:””,”&gt;Total Hits</option>“,<br>        “&lt;option value&#x3D;Z”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’Z’ ? “ selected”:””,”&gt;Total Size</option>“,<br>        “&lt;option value&#x3D;T”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’T’ ? “ selected”:””,”&gt;Number of Files</option>“,<br>        “&lt;option value&#x3D;S”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’S’ ? “ selected”:””,”&gt;Directory Name</option>“,<br>        “&lt;option value&#x3D;A”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’A’ ? “ selected”:””,”&gt;Avg. Size</option>“,<br>        “&lt;option value&#x3D;C”,$MYREQUEST[‘SORT1’]&#x3D;&#x3D;’C’ ? “ selected”:””,”&gt;Avg. Hits</option>“,<br>        ‘</select>‘,<br>        ‘<select name=SORT2>‘,<br>        ‘&lt;option value&#x3D;D’,$MYREQUEST[‘SORT2’]&#x3D;&#x3D;’D’ ? ‘ selected’:’’,’&gt;DESC</option>‘,<br>        ‘&lt;option value&#x3D;A’,$MYREQUEST[‘SORT2’]&#x3D;&#x3D;’A’ ? ‘ selected’:’’,’&gt;ASC</option>‘,<br>        ‘</select>‘,<br>        ‘<select name=COUNT onChange="form.submit()">‘,<br>        ‘&lt;option value&#x3D;10 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’10’ ? ‘ selected’:’’,’&gt;Top 10</option>‘,<br>        ‘&lt;option value&#x3D;20 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’20’ ? ‘ selected’:’’,’&gt;Top 20</option>‘,<br>        ‘&lt;option value&#x3D;50 ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’50’ ? ‘ selected’:’’,’&gt;Top 50</option>‘,<br>        ‘&lt;option value&#x3D;100’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’100’? ‘ selected’:’’,’&gt;Top 100</option>‘,<br>        ‘&lt;option value&#x3D;150’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’150’? ‘ selected’:’’,’&gt;Top 150</option>‘,<br>        ‘&lt;option value&#x3D;200’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’200’? ‘ selected’:’’,’&gt;Top 200</option>‘,<br>        ‘&lt;option value&#x3D;500’,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’500’? ‘ selected’:’’,’&gt;Top 500</option>‘,<br>        ‘&lt;option value&#x3D;0  ‘,$MYREQUEST[‘COUNT’]&#x3D;&#x3D;’0’  ? ‘ selected’:’’,’&gt;All</option>‘,<br>        ‘</select>‘,<br>        “, Group By Dir Level:<select name=AGGR>“,<br>        “<option value='' selected>None</option>“;<br>        for ($i &#x3D; 1; $i &lt; 10; $i++)<br>            echo “&lt;option value&#x3D;$i”,$MYREQUEST[‘AGGR’]&#x3D;&#x3D;$i ? “ selected”:””,”&gt;$i</option>“;<br>        echo ‘</select>‘,<br>        ‘&nbsp;<input type=submit value="GO!">‘,<br>        ‘</form></div>‘,</p>
<pre><code>    &#39;&lt;div class=&quot;info&quot;&gt;&lt;table cellspacing=0&gt;&lt;tbody&gt;&#39;,
    &#39;&lt;tr&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;S&#39;,&#39;Directory Name&#39;,	&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;T&#39;,&#39;Number of Files&#39;,&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;H&#39;,&#39;Total Hits&#39;,	&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;Z&#39;,&#39;Total Size&#39;,	&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;C&#39;,&#39;Avg. Hits&#39;,	&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;th&gt;&#39;,sortheader(&#39;A&#39;,&#39;Avg. Size&#39;,	&quot;&amp;OB=&quot;.$MYREQUEST[&#39;OB&#39;]),&#39;&lt;/th&gt;&#39;,
    &#39;&lt;/tr&gt;&#39;;

// builds list with alpha numeric sortable keys
//
$tmp = $list = array();
foreach($cache[$scope_list[$MYREQUEST[&#39;SCOPE&#39;]]] as $entry) &#123;
    $n = dirname($entry[&#39;filename&#39;]);
    if ($MYREQUEST[&#39;AGGR&#39;] &gt; 0) &#123;
        $n = preg_replace(&quot;!^(/?(?:[^/\\\\]+[/\\\\])&#123;&quot;.($MYREQUEST[&#39;AGGR&#39;]-1).&quot;&#125;[^/\\\\]*).*!&quot;, &quot;$1&quot;, $n);
    &#125;
    if (!isset($tmp[$n])) &#123;
        $tmp[$n] = array(&#39;hits&#39;=&gt;0,&#39;size&#39;=&gt;0,&#39;ents&#39;=&gt;0);
    &#125;
    $tmp[$n][&#39;hits&#39;] += $entry[&#39;num_hits&#39;];
    $tmp[$n][&#39;size&#39;] += $entry[&#39;mem_size&#39;];
    ++$tmp[$n][&#39;ents&#39;];
&#125;

foreach ($tmp as $k =&gt; $v) &#123;
    switch($MYREQUEST[&#39;SORT1&#39;]) &#123;
        case &#39;A&#39;: $kn=sprintf(&#39;%015d-&#39;,$v[&#39;size&#39;] / $v[&#39;ents&#39;]);break;
        case &#39;T&#39;: $kn=sprintf(&#39;%015d-&#39;,$v[&#39;ents&#39;]);		break;
        case &#39;H&#39;: $kn=sprintf(&#39;%015d-&#39;,$v[&#39;hits&#39;]);		break;
        case &#39;Z&#39;: $kn=sprintf(&#39;%015d-&#39;,$v[&#39;size&#39;]);		break;
        case &#39;C&#39;: $kn=sprintf(&#39;%015d-&#39;,$v[&#39;hits&#39;] / $v[&#39;ents&#39;]);break;
        case &#39;S&#39;: $kn = $k;					break;
    &#125;
    $list[$kn.$k] = array($k, $v[&#39;ents&#39;], $v[&#39;hits&#39;], $v[&#39;size&#39;]);
&#125;

if ($list) &#123;
    
    // sort list
    //
    switch ($MYREQUEST[&#39;SORT2&#39;]) &#123;
        case &quot;A&quot;:	krsort($list);	break;
        case &quot;D&quot;:	ksort($list);	break;
    &#125;
    
    // output list
    $i = 0;
    foreach($list as $entry) &#123;
        echo
            &#39;&lt;tr class=tr-&#39;,$i%2,&#39;&gt;&#39;,
            &quot;&lt;td class=td-0&gt;&quot;,$entry[0],&#39;&lt;/a&gt;&lt;/td&gt;&#39;,
            &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,$entry[1],&#39;&lt;/td&gt;&#39;,
            &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,$entry[2],&#39;&lt;/td&gt;&#39;,
            &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,$entry[3],&#39;&lt;/td&gt;&#39;,
            &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,round($entry[2] / $entry[1]),&#39;&lt;/td&gt;&#39;,
            &#39;&lt;td class=&quot;td-n center&quot;&gt;&#39;,round($entry[3] / $entry[1]),&#39;&lt;/td&gt;&#39;,
            &#39;&lt;/tr&gt;&#39;;

        if (++$i == $MYREQUEST[&#39;COUNT&#39;]) break;
    &#125;
    
&#125; else &#123;
    echo &#39;&lt;tr class=tr-0&gt;&lt;td class=&quot;center&quot; colspan=6&gt;&lt;i&gt;No data&lt;/i&gt;&lt;/td&gt;&lt;/tr&gt;&#39;;
&#125;
echo &lt;&lt;&lt; EOB
    &lt;/tbody&gt;&lt;/table&gt;
</code></pre>
<p>EOB;</p>
<pre><code>if ($list &amp;&amp; $i &lt; count($list)) &#123;
    echo &quot;&lt;a href=\&quot;$MY_SELF&amp;OB=&quot;,$MYREQUEST[&#39;OB&#39;],&quot;&amp;COUNT=0\&quot;&gt;&lt;i&gt;&quot;,count($list)-$i,&#39; more available...&lt;/i&gt;&lt;/a&gt;&#39;;
&#125;

echo &lt;&lt;&lt; EOB
    &lt;/div&gt;
</code></pre>
<p>EOB;<br>    break;</p>
<p>&#x2F;&#x2F; ———————————————–<br>&#x2F;&#x2F; Version check<br>&#x2F;&#x2F; ———————————————–<br>case OB_VERSION_CHECK:<br>    echo &lt;&lt;&lt;EOB<br>        <div class="info"><h2>APC Version Information</h2><br>        <table cellspacing=0><tbody><br>        <tr><br>        <th></th><br>        </tr><br>EOB;<br>  if (defined(‘PROXY’)) {<br>    $ctxt &#x3D; stream_context_create( array( ‘http’ &#x3D;&gt; array( ‘proxy’ &#x3D;&gt; PROXY, ‘request_fulluri’ &#x3D;&gt; True ) ) );<br>    $rss &#x3D; @file_get_contents(“<a target="_blank" rel="noopener" href="http://pecl.php.net/feeds/pkg_apc.rss">http://pecl.php.net/feeds/pkg_apc.rss</a>“, False, $ctxt);<br>  } else {<br>    $rss &#x3D; @file_get_contents(“<a target="_blank" rel="noopener" href="http://pecl.php.net/feeds/pkg_apc.rss">http://pecl.php.net/feeds/pkg_apc.rss</a>“);<br>  }<br>    if (!$rss) {<br>        echo ‘<tr class="td-last center"><td>Unable to fetch version information.</td></tr>‘;<br>    } else {<br>        $apcversion &#x3D; phpversion(‘apc’);</p>
<pre><code>    preg_match(&#39;!&lt;title&gt;APC ([0-9.]+)&lt;/title&gt;!&#39;, $rss, $match);
    echo &#39;&lt;tr class=&quot;tr-0 center&quot;&gt;&lt;td&gt;&#39;;
    if (version_compare($apcversion, $match[1], &#39;&gt;=&#39;)) &#123;
        echo &#39;&lt;div class=&quot;ok&quot;&gt;You are running the latest version of APC (&#39;.$apcversion.&#39;)&lt;/div&gt;&#39;;
        $i = 3;
    &#125; else &#123;
        echo &#39;&lt;div class=&quot;failed&quot;&gt;You are running an older version of APC (&#39;.$apcversion.&#39;), 
            newer version &#39;.$match[1].&#39; is available at &lt;a href=&quot;http://pecl.php.net/package/APC/&#39;.$match[1].&#39;&quot;&gt;
            http://pecl.php.net/package/APC/&#39;.$match[1].&#39;&lt;/a&gt;
            &lt;/div&gt;&#39;;
        $i = -1;
    &#125;
    echo &#39;&lt;/td&gt;&lt;/tr&gt;&#39;;
    echo &#39;&lt;tr class=&quot;tr-0&quot;&gt;&lt;td&gt;&lt;h3&gt;Change Log:&lt;/h3&gt;&lt;br/&gt;&#39;;

    preg_match_all(&#39;!&lt;(title|description)&gt;([^&lt;]+)&lt;/\\1&gt;!&#39;, $rss, $match);
    next($match[2]); next($match[2]);

    while (list(,$v) = each($match[2])) &#123;
        list(,$ver) = explode(&#39; &#39;, $v, 2);
        if ($i &lt; 0 &amp;&amp; version_compare($apcversion, $ver, &#39;&gt;=&#39;)) &#123;
            break;
        &#125; else if (!$i--) &#123;
            break;
        &#125;
        echo &quot;&lt;b&gt;&lt;a href=\&quot;http://pecl.php.net/package/APC/$ver\&quot;&gt;&quot;.htmlspecialchars($v, ENT_QUOTES, &#39;UTF-8&#39;).&quot;&lt;/a&gt;&lt;/b&gt;&lt;br&gt;&lt;blockquote&gt;&quot;;
        echo nl2br(htmlspecialchars(current($match[2]), ENT_QUOTES, &#39;UTF-8&#39;)).&quot;&lt;/blockquote&gt;&quot;;
        next($match[2]);
    &#125;
    echo &#39;&lt;/td&gt;&lt;/tr&gt;&#39;;
&#125;
echo &lt;&lt;&lt; EOB
    &lt;/tbody&gt;&lt;/table&gt;
    &lt;/div&gt;
</code></pre>
<p>EOB;<br>    break;</p>
<p>}</p>
<p>echo &lt;&lt;&lt; EOB<br>    </div><br>EOB;</p>
<p>?&gt;</p>
<!-- <?php echo "\nBased on APCGUI By R.Becker\n$VERSION\n"?> -->
</body>
</html>



<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>许可协议</span></div><div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2023/09/28/Linux%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/lnmp/cutlog.sh/">2023-09-28</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2023/09/28/Linux%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/lamp/http-conf/extra/httpd-vhosts.conf/">2023-09-28</a></div></section></div>








      
<footer class="page-footer reveal fs12"><hr><div class="text"><p>本站由 <a href="/">@anonymity</a> 使用 <a target="_blank" rel="noopener" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar</a> 主题创建。<br>本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议，转载请注明出处。</p>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.19.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
